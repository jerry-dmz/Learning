{"root":{"data":{"id":"d9lj8570a3s0","created":1746174574309,"text":"链接"},"children":[{"data":{"id":"d9lj88nhunc0","created":1746174581836,"text":"静态链接","layout_mind_offset":{"x":-745,"y":-17},"expandState":"collapse"},"children":[{"data":{"id":"d9ljfgeg4940","created":1746175147252,"text":"思路","expandState":"collapse"},"children":[{"data":{"id":"d9ljd5xpdzs0","created":1746174967744,"text":"按序叠加","note":"将各个目标文件中的节进行按序叠加\n\n每个段都必须有一定地址和空间对齐要求，会造成大量内存碎片，不采用","layout_right_offset":{"x":13,"y":-5},"progress":1,"priority":null},"children":[]},{"data":{"id":"d9ljd6c9ew00","created":1746174968625,"text":"合并相似段","layout_right_offset":{"x":6,"y":0},"note":"按段的性质将段进行合并","progress":9},"children":[]}]},{"data":{"id":"d9ljhalhy8w0","created":1746175291346,"text":"两步链接"},"children":[{"data":{"id":"d9ljikspezs0","created":1746175391914,"text":"合并段","note":"合并所有段\n建立全局符号表\n对段内符号地址进行修正"},"children":[]},{"data":{"id":"d9ljil6w9xc0","created":1746175392772,"text":"重定位","note":"读取输入文件中段的数据、重定位信息，进行符号解析与重定位、调整代码中的地址"},"children":[{"data":{"id":"d9ljwxp5f0g0","created":1746176517096,"text":"重定位表","note":"objdump -r a.o 查看目标文件需要被重定位的地方\n"},"children":[]},{"data":{"id":"d9ljs1lxb1s0","created":1746176133787,"text":"符号修正","note":"根据全局符号表信息，更正之前目标文件内未知的符号"},"children":[]},{"data":{"id":"d9ljs23ur340","created":1746176134871,"text":"指令修正","note":"函数也是一个符号，但是外部是通过call方式调用函数的，所以要修正这条指令"},"children":[]}]}]},{"data":{"id":"d9lkrs6o6c80","created":1746178934383,"text":"静态库","layout_right_offset":{"x":14,"y":0},"note":"一种语言的开发环境往往附带语言库，这些库就是对操作系统API的封装\n\nar -t libc.a 查看一个静态库中有哪些目标文件\n\nobjdump -t libc.a 查询函数"},"children":[]},{"data":{"id":"d9lkrlpn3ig0","created":1746178920293,"text":"链接控制","layout_right_offset":{"x":20,"y":38},"note":"默认情况下，使用链接器提供的默认链接规则即可，但是也有一些特殊场景"},"children":[{"data":{"id":"d9m5ig2x8o00","created":1746237446066,"text":"场景"},"children":[{"data":{"id":"d9m5ijubcpc0","created":1746237454253,"text":"操作系统内核"},"children":[]},{"data":{"id":"d9m5ik7xy9k0","created":1746237455077,"text":"bootloader"},"children":[]},{"data":{"id":"d9m5ikn5z600","created":1746237455997,"text":"硬盘分区软件"},"children":[]}]},{"data":{"id":"d9m5j98c97k0","created":1746237509520,"text":"途径"},"children":[{"data":{"id":"d9m5jnwa7kw0","created":1746237541443,"text":"命令行参数"},"children":[]},{"data":{"id":"d9m5jour6hc0","created":1746237543527,"text":"链接脚本","note":"ld -verbose 查看默认链接脚本"},"children":[]}]}]},{"data":{"id":"d9m5ongddao0","created":1746237932302,"text":"BFD库","note":"Binary File Descriptor library\n\n通过一种统一的接口处理不同的目标文件格式。\n\nbinutils项目的子项目\n\n将目标文件抽象成一个统一的模型。\n\n现在的GCC、链接器ld、调试器GDB及binutils的其他工具都通过BFD库来处理目标文件。\n","layout_right_offset":{"x":25,"y":43}},"children":[]}]},{"data":{"id":"d9lj8ekm5rs0","created":1746174594723,"text":"动态链接","layout_mind_offset":{"x":651,"y":1}},"children":[{"data":{"id":"d9m65rz52e80","created":1746239274334,"text":"需求","note":"随着静态链接出现一系列问题，所以才有动态链接的出现","layout_right_offset":{"x":185,"y":-14}},"children":[{"data":{"id":"d9m65vlae0g0","created":1746239282204,"text":"内存浪费"},"children":[]},{"data":{"id":"d9m65w5xt0w0","created":1746239283453,"text":"程序升级","note":"静态链接对程序的更新、部署和发布会带来很多麻烦"},"children":[]}]},{"data":{"id":"d9m68uwk5e00","created":1746239515801,"text":"基本思想","layout_right_offset":{"x":163,"y":-2},"note":"不对目标文件进行链接，而是等到运行时才进行链接"},"children":[]},{"data":{"id":"d9m6ab0sb4w0","created":1746239629249,"text":"优点","layout_right_offset":{"x":186,"y":10}},"children":[{"data":{"id":"d9m6agew5i80","created":1746239640986,"text":"可扩展性","note":"插件机制"},"children":[]},{"data":{"id":"d9m6agrthfk0","created":1746239641768,"text":"兼容性"},"children":[]}]},{"data":{"id":"d9m6c1ogn080","created":1746239765642,"text":"分支主题"},"children":[]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}